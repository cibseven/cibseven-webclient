<b-modal ref="sortModal" size="xl" :title="$t('multisort.title')">
	<div>
		<div class="row">
			<div class="offset-2 col-5">
	  			<h6>{{ $t('multisort.column') }}</h6>
			</div>
			<div class="col-5">		  	
				<h6>{{ $t('multisort.order') }}</h6>
			</div>
		</div>			
		<div v-if="!moving" v-for="(criteria, index) in sortingCriteria" :key="index" class="row align-items-center py-3" :class="index === selectedIndex ? 'bg-light' : ''" @click="selectedIndex = index">
			<div class="col-2">
				<span v-if="index === 0">{{ $t('multisort.orderBy') }}</span>
				<span v-else>{{ $t('multisort.thenBy') }}</span>
			</div>
			<div class="col-5">
	  			<b-form-select v-model="criteria.field" :options="sortKeysWithText"></b-form-select>
			</div>
			<div class="col-5">		  	
				<b-form-select v-model="criteria.order" :options="orders"></b-form-select>
			</div>
      	</div>	  
      	<div class="mt-3">    	
	      	<b-button @click="addCriteria" variant="light" class="border mdi mdi-plus" :title="$t('multisort.add')">{{ $t('multisort.add') }}</b-button>
	      	<b-button @click="moveCriteria('up')" variant="light" size="sm" class="border mdi mdi-18px mdi-chevron-up" :disabled="selectedIndex === 0 || selectedIndex === null" :title="$t('multisort.moveUp')"></b-button>
		    <b-button @click="moveCriteria('down')" variant="light" size="sm" class="border mdi mdi-18px mdi-chevron-down" :disabled="selectedIndex === (sortingCriteria.length - 1) || selectedIndex === null" :title="$t('multisort.moveDown')"></b-button>			
			<b-button @click="removeCriteria" variant="outline-danger" size="sm" class="mdi mdi-18px mdi-delete-outline" :disabled="sortingCriteria.length === 1" :title="$t('multisort.remove')"></b-button>
		</div>
    </div>
    <template #modal-footer="{ cancel, ok }">
      <b-button variant="secondary" @click="cancel">{{ $t('multisort.cancel') }}</b-button>
      <b-button variant="primary" @click="applySorting">{{ $t('multisort.apply') }}</b-button>
    </template>
   </b-modal>