<div class="h-100 d-flex flex-column bg-light">
	<div class="h-100 container-fluid overflow-auto">
		<div v-for="(group, key) of deploymentsGrouped" :key="key">
			<p role="heading" aria-level="4" class="mdi mdi-18px border-black border-bottom text-end pt-3" :class="group.visible ? 'mdi-minus' : 'mdi-plus'" 
			@click="$eventBus.emit('bv::toggle::collapse', key)" style="cursor: pointer"><span class="float-start h5">{{ title(key) }}</span></p>
			<b-collapse class="me-3" :id="key" v-model="group.visible">
				<div class="row">
					<div v-for="d of group.data" :key="d.id" class="col-md-6 col-lg-3 col-12 my-3">
						<b-button @click="setDeployment(d)" variant="link" class="text-decoration-none p-0 w-100">
							<b-card :class="d === deployment ? 'border-start border-primary' : ''" :style="d === deployment ? 'border-width: 4px !important;' : ''" style="min-height: 120px; border: 0">
								<b-card-body>
									<b-card-text>
										<span @click.stop class="d-flex justify-content-start">
											<b-form-checkbox size="sm" v-model="d.isSelected">
									      		<span class="fw-bold" style="word-break: break-word">{{ d.name }}</span>
										    </b-form-checkbox>
										</span>
										<div class="d-flex align-items-center pt-2">
											<span>{{ d.deploymentTime }}</span>
										</div>									
										<div class="d-flex align-items-center pt-2">
											<small>{{ $t('deployment.source') }}: {{ d.source }}</small>
										</div>						
									</b-card-text>
								</b-card-body>
							</b-card>
						</b-button>
					</div>
				</div>
			</b-collapse>
		</div>
	</div>
</div>
