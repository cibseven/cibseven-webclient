<span>
	<GlobalEvents v-if="!hideProcessSelection" @keydown.ctrl.x.prevent="$refs.startProcess.show()"></GlobalEvents>
	<b-button v-if="!hideProcessSelection" variant="outline-primary" @click="startProcess()">
		<span class="icon-cib-18px icon-start-process me-1" style="vertical-align: middle;display: inline-block; line-height: 0;"></span>{{ $t('process.startProcess') }}
	</b-button>
	<b-modal body-class="pt-0" size="lg" scrollable ref="startProcess" :hide-footer="!(startParamUrl && !hideProcessSelection)"
	:title="!hideProcessSelection ? $t('start.startProcesses') : processName" @shown="$emit('display-popover', false)" no-close-on-backdrop
	@hidden="$emit('display-popover', true); startParamUrl = ''" :footer-class="{ 'justify-content-between': startParamUrl && !hideProcessSelection }"
	dialog-class="h-100">
	 	<div v-if="startParamUrl" class="mh-100 h-100" style="height: 70vh">
	 		<render-template class="h-100" :task="{ url: startParamUrl, assignee: $root.user, id: selectedProcess.id, processInstanceId: selectedProcess.processInstanceId }"
	 		@complete-task="$refs.startProcess.hide(); $emit('process-started', $event)"></render-template>
	 	</div>
		<div v-else-if="!hideProcessSelection">
			<div class="form-group mt-3">
		   		<div class="input-group">
					<div class="input-group-append">
						<label class="btn border-end-0 border-light "><span class="mdi mdi-magnify" 
							style="line-height: initial"></span></label>
					</div>
					<input class="form-control border-start-0 border-light ps-0" type="text" :placeholder="$t('searches.search')" v-model="processesFilter">
				</div>
		 	</div>
			<b-list-group>
				<b-list-group-item v-for="process of startableProcesses" :key="process.key" class="p-1">
					<b-button variant="link" @click="startProcess(process)">{{ process.name ? process.name : process.key }}</b-button>
				</b-list-group-item>
			</b-list-group>
		</div>
	   	<template v-slot:modal-footer>
	   		<b-button v-if="startParamUrl && !hideProcessSelection" @click="startParamUrl = ''" class="text-secondary" variant="link">{{ $t('process.back') }}</b-button>
		</template>
	</b-modal>
</span>