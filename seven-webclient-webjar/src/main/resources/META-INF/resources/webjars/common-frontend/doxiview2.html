<div :style="!fullscreen ? {} : { width: '100%', height: '100%', top: '0px', left: '0px', position: 'fixed' }">
	<doxiviewnt v-if="prepareRequest && !doxiview" :prepare-request="prepareRequest"
			:title="title" 
			:download-url="downloadUrl"
			:content-type="document.mimeType"
			:show-download="true"
			:sign-user-id="startParameters.signUserId"
			:auth-token="headers.Authorization && headers.Authorization[0]"	
			:allow-update="!!startParameters.documentVersionUpdateMode"
			:easy-read-enabled="true"
			:no-header="noHeader"
			@fill="$emit('fill', $event)" 
			@download="download()"
			@document-version-updated="$emit('document-version-updated', { 
				location: $event, 
				mimeType: document.mimeType, 
				name: document.name, 
				cacheId: document.cacheId
			})"
			@fail="doxiview = true" @close="$emit('terminate')">
		<b-dropdown dropleft variant="outline-secondary" toggle-class="border-0 py-0" no-caret>
			<template #button-content> <span class="mdi mdi-24px mdi-dots-vertical"></span> </template>
			<b-dropdown-item-button v-for="opt in options" @click="openOptionsbar(opt)"> <span>{{ $t('doxiviewnt.' + opt) }}</span> </b-dropdown-item-button>
			<b-dropdown-item-button @click="startParameters.presentationModeActive = 'true'; openOptionsbar()">
				<span>{{ $t('doxiviewnt.presentationMode') }}</span>
			</b-dropdown-item-button>				
			<b-dropdown-item-button @click="openOptionsbar()">
				<span>{{ $t('doxiviewnt.edit') }}</span>
			</b-dropdown-item-button>			
			<slot name="moreItems"></slot>			
		</b-dropdown>
	</doxiviewnt>
	
	<iframe v-show="doxiview" ref="doxiview" style="width: 100%; height: 100%; border: 0"></iframe>	
</div>