<!DOCTYPE html>
<html class="h-100">
<head>
    <meta charset="UTF-8">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="Cache-Control" content="no-store">
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
        #loader {
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
    <link rel="stylesheet" href="src/embedded-form/generated-forms.css">
</head>
<body class="h-100">
    <div id="loader">
        <img src="src/embedded-form/waitImage.svg" style="width:20%">
    </div>
    <div class="h-100 flex-column" style="display: none" id="content">
        <div id="embeddedRoot" class="flex-grow-1 container-fluid"></div>
        <form id="embeddedFormRoot" class="flex-grow-1 container-fluid"></form>
        <div id="embeddedFormError" class="alert alert-danger" style="display: none"></div>
        <div class="border-top pb-2 pt-3 shadow text-center bg-white">
            <button id="saveButton" class="btn btn-outline-secondary">Save</button>
            <button id="submitButton" class="btn btn-secondary">Submit</button>
        </div>
    </div>
    <script type="module">
        import { initEmbeddedForm } from '/src/embedded-form/embedded-form.js'
        
        // Get all the required DOM elements
        const submitButton = document.getElementById('submitButton')
        const saveButton = document.getElementById('saveButton')
        const loaderDiv = document.getElementById('loader')
        const contentDiv = document.getElementById('content')
        const errorDiv = document.getElementById('embeddedFormError')
        const embeddedContainer = document.getElementById('embeddedRoot')
        const formContainer = document.getElementById('embeddedFormRoot')
            
        // Initialize the embedded form using the imported function
        initEmbeddedForm({
            submitButton,
            saveButton,
            loaderDiv,
            contentDiv,
            errorDiv,
            embeddedContainer,
            formContainer
        })
    </script>
</body>
</html>